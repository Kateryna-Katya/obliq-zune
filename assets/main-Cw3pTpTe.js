(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))f(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const p of s.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&f(p)}).observe(document,{childList:!0,subtree:!0});function g(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function f(t){if(t.ep)return;t.ep=!0;const s=g(t);fetch(t.href,s)}})();document.addEventListener("DOMContentLoaded",()=>{var v,L;gsap.registerPlugin(ScrollTrigger);const h=new Lenis({duration:1.2,easing:e=>Math.min(1,1.001-Math.pow(2,-10*e)),smoothWheel:!0});h.on("scroll",ScrollTrigger.update),gsap.ticker.add(e=>{h.raf(e*1e3)}),gsap.ticker.lagSmoothing(0),window.lucide&&lucide.createIcons();const c=document.querySelector(".burger"),g=document.querySelector(".nav"),f=document.querySelectorAll(".nav__link");if(c&&g){const e=()=>{const o=g.classList.toggle("open");c.classList.toggle("active"),document.body.style.overflow=o?"hidden":""};c.addEventListener("click",e),f.forEach(o=>o.addEventListener("click",()=>{g.classList.contains("open")&&e()}))}const t=document.querySelector(".header");t&&ScrollTrigger.create({start:"top -50",onUpdate:e=>{t.classList.toggle("scrolled",e.scroll()>50)}});const s=document.querySelector(".hero__title");if(s){const e=new SplitType(s,{types:"chars"});gsap.from(e.chars,{opacity:0,y:50,rotateX:-90,stagger:.03,duration:1.2,ease:"power4.out"}),gsap.from(".fade-in",{opacity:0,y:30,stagger:.2,duration:1,delay:.5,ease:"power3.out"})}gsap.utils.toArray(".fade-up").forEach(e=>{gsap.from(e,{scrollTrigger:{trigger:e,start:"top 90%",toggleActions:"play none none reverse"},opacity:0,y:40,duration:.8,ease:"power2.out"})});const p=()=>{const e=document.querySelector(".tools-horizontal-container"),o=document.querySelector(".tools-track");e&&o&&gsap.matchMedia().add("(min-width: 769px)",()=>{const a=()=>o.scrollWidth-window.innerWidth,l=gsap.to(o,{x:()=>-a(),ease:"none",scrollTrigger:{trigger:e,start:"top top",end:()=>`+=${o.scrollWidth}`,pin:!0,scrub:1,invalidateOnRefresh:!0}});return()=>{l.scrollTrigger&&l.scrollTrigger.kill(),gsap.set(o,{clearProps:"all"})}})};document.querySelector(".blog-slider")&&new Swiper(".blog-slider",{slidesPerView:1,spaceBetween:20,loop:!0,pagination:{el:".swiper-pagination",clickable:!0},breakpoints:{768:{slidesPerView:2,spaceBetween:30},1024:{slidesPerView:3,spaceBetween:30}}});const d=document.getElementById("contact-form");if(d){const e=document.getElementById("captcha-label"),o=document.getElementById("success-popup"),w=d.querySelector('input[type="tel"]');let a=Math.floor(Math.random()*10),l=Math.floor(Math.random()*10),S=a+l;e&&(e.textContent=`Сколько будет ${a} + ${l}? *`),w&&w.addEventListener("input",r=>{r.target.value=r.target.value.replace(/[^\d+()\- ]/g,"")});const b=r=>{const m=r.closest(".form__group").querySelector(".form__error");let n=!0,i="";const u=r.value.trim();return r.hasAttribute("required")&&!u&&r.type!=="checkbox"?(n=!1,i="Это поле обязательно"):r.type==="email"&&u&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u)?(n=!1,i="Неверный формат email"):r.type==="tel"&&u&&!/^[0-9+\s()\-]{7,20}$/.test(u)?(n=!1,i="Введите корректный номер"):r.id==="captcha"&&parseInt(u)!==S?(n=!1,i="Неверный ответ"):r.type==="checkbox"&&!r.checked&&(n=!1,i="Нужно ваше согласие"),r.classList.toggle("error",!n),m&&(m.innerText=i,m.style.display=n?"none":"block"),n};d.addEventListener("submit",r=>{if(r.preventDefault(),Array.from(d.querySelectorAll("input, textarea")).every(b)){const n=d.querySelector(".btn--submit"),i=n.innerText;n.disabled=!0,n.innerText="Отправка...",setTimeout(()=>{d.reset(),n.disabled=!1,n.innerText=i,o==null||o.classList.add("show"),a=Math.floor(Math.random()*10),l=Math.floor(Math.random()*10),S=a+l,e&&(e.textContent=`Сколько будет ${a} + ${l}? *`)},2e3)}}),(v=document.getElementById("close-popup"))==null||v.addEventListener("click",()=>{o==null||o.classList.remove("show")})}const y=document.getElementById("cookie-popup");y&&!localStorage.getItem("cookiesAccepted")&&(setTimeout(()=>y.classList.add("show"),2e3),(L=document.getElementById("accept-cookies"))==null||L.addEventListener("click",()=>{localStorage.setItem("cookiesAccepted","true"),y.classList.remove("show")})),window.addEventListener("load",()=>{p(),ScrollTrigger.refresh()})});
//# sourceMappingURL=main-Cw3pTpTe.js.map
